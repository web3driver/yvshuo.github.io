<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>香辣猪蹄儿</title>
  <subtitle>吃着猪蹄儿写着代码，开开心心~</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yvshuo.github.io/"/>
  <updated>2016-11-15T15:29:24.000Z</updated>
  <id>http://yvshuo.github.io/</id>
  
  <author>
    <name>yvshuo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用ESLint检查语法和代码风格</title>
    <link href="http://yvshuo.github.io/2016/11/15/2016-11-15-eslint/"/>
    <id>http://yvshuo.github.io/2016/11/15/2016-11-15-eslint/</id>
    <published>2016-11-15T13:37:39.000Z</published>
    <updated>2016-11-15T15:29:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>在学习ECMAScript6的过程中发现了一个代码风格和语法的检查工具，<a href="http://eslint.org/docs/user-guide/command-line-interface" target="_blank" rel="external">ESLint</a>，记录一下。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>这里记录的安装方法是通过npm的安装，所以前提条件是已经安装了npm。如果没有安装的话，建议直接安装nvm，可以方便的切换node的版本。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i -g eslint</div></pre></td></tr></table></figure></p>
<p>通过以上命令即可完成eslint CLI的安装。</p>
<a id="more"></a>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>ESLint的运行格式如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint [options] [file|dir|glob]*</div></pre></td></tr></table></figure></p>
<p>以下的几种方式都是可行的：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">eslint file1.js file2.js</div><div class="line">eslint lib/**</div><div class="line">eslint <span class="string">"lib/**"</span></div></pre></td></tr></table></figure></p>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><p>以下的内容可以通过eslint -h来查阅<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">eslint [options] file.js [file.js] [dir]</div><div class="line">Basic configuration:</div><div class="line">  -c, --config path::String    Use configuration from this file or shareable config</div><div class="line">  --no-eslintrc                Disable use of configuration from .eslintrc</div><div class="line">  --env [String]               Specify environments</div><div class="line">  --ext [String]               Specify JavaScript file extensions - default: .js</div><div class="line">  --global [String]            Define global variables</div><div class="line">  --parser String              Specify the parser to be used</div><div class="line">  --parser-options Object      Specify parser options</div><div class="line">Caching:</div><div class="line">  --cache                      Only check changed files - default: <span class="literal">false</span></div><div class="line">  --cache-file path::String    Path to the cache file. Deprecated: use --cache-location - default: .eslintcache</div><div class="line">  --cache-location path::String  Path to the cache file or directory</div><div class="line">Specifying rules and plugins:</div><div class="line">  --rulesdir [path::String]    Use additional rules from this directory</div><div class="line">  --plugin [String]            Specify plugins</div><div class="line">  --rule Object                Specify rules</div><div class="line">Ignoring files:</div><div class="line">  --ignore-path path::String   Specify path of ignore file</div><div class="line">  --no-ignore                  Disable use of ignore files and patterns</div><div class="line">  --ignore-pattern [String]    Pattern of files to ignore (<span class="keyword">in</span> addition to those <span class="keyword">in</span> .eslintignore)</div><div class="line">Using stdin:</div><div class="line">  --stdin                      Lint code provided on &lt;STDIN&gt; - default: <span class="literal">false</span></div><div class="line">  --stdin-filename String      Specify filename to process STDIN as</div><div class="line">Handling warnings:</div><div class="line">  --quiet                      Report errors only - default: <span class="literal">false</span></div><div class="line">  --max-warnings Int           Number of warnings to trigger nonzero <span class="built_in">exit</span> code - default: -1</div><div class="line">Output:</div><div class="line">  -o, --output-file path::String  Specify file to write report to</div><div class="line">  <span class="_">-f</span>, --format String          Use a specific output format - default: stylish</div><div class="line">  --color, --no-color          Force enabling/disabling of color</div><div class="line">Miscellaneous:</div><div class="line">  --init                       Run config initialization wizard - default: <span class="literal">false</span></div><div class="line">  --fix                        Automatically fix problems</div><div class="line">  --debug                      Output debugging information</div><div class="line">  -h, --help                   Show <span class="built_in">help</span></div><div class="line">  -v, --version                Output the version number</div><div class="line">  --no-inline-config           Prevent comments from changing config or rules</div><div class="line">  --print-config path::String  Print the configuration <span class="keyword">for</span> the given file</div></pre></td></tr></table></figure></p>
<p>例子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --ext .jsx --ext .js file.js</div><div class="line">eslint --ext .jsx,.js file.js</div></pre></td></tr></table></figure></p>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><ul>
<li>-c,–config<br>这个选项能给ESLint指定一个附加的配置文件。<br><em>例子：</em><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint -c ~/my-eslint.json file.js</div></pre></td></tr></table></figure>
</li>
</ul>
<p>这个例子使用<code>~/my-eslint.json</code>这个配置文件。<br>还有一种是使用共享的配置。<br><em>例子：</em><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint -c airbnb file.js</div></pre></td></tr></table></figure></p>
<p>这个例子使用的是<code>eslint-config-airbnb</code>的配置，使用之前需要安装。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm i -g eslint-config-airbnb</div></pre></td></tr></table></figure></p>
<ul>
<li><p>–no-eslintrc<br>禁用<code>.eslintrc</code>和<code>package.json</code>中的配置<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint --no-eslintrc file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–env<br>指定特定的环境<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --env browser,node file.js</div><div class="line">eslint --env browser --env node file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–ext<br>配置ESLint对哪些文件类型起作用<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 只对 .js2 后缀的文件类型起作用</span></div><div class="line">eslint . --ext .js2</div><div class="line"><span class="comment"># 对 .js 和 .js2 后缀的文件类型都起作用</span></div><div class="line">eslint . --ext .js --ext .js2</div><div class="line"><span class="comment"># 对 .js 和 .js2 后缀的文件类型都起作用</span></div><div class="line">eslint . --ext .js,.js2</div></pre></td></tr></table></figure>
</li>
<li><p>–ext<br>配置ESLint对哪些文件类型起作用<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 只对 .js2 后缀的文件类型起作用</span></div><div class="line">eslint . --ext .js2</div><div class="line"><span class="comment"># 对 .js 和 .js2 后缀的文件类型都起作用</span></div><div class="line">eslint . --ext .js --ext .js2</div><div class="line"><span class="comment"># 对 .js 和 .js2 后缀的文件类型都起作用</span></div><div class="line">eslint . --ext .js,.js2</div></pre></td></tr></table></figure>
</li>
<li><p>–global<br>设置全局参数<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --global require,exports:<span class="literal">true</span> file.js</div><div class="line">eslint --global require --global exports:<span class="literal">true</span></div></pre></td></tr></table></figure>
</li>
<li><p>–global<br>设置全局参数<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --global require,exports:<span class="literal">true</span> file.js</div><div class="line">eslint --global require --global exports:<span class="literal">true</span></div></pre></td></tr></table></figure>
</li>
<li><p>–plugin<br>设置需要载入的插件。设置前需要通过npm安装要载入的插件。<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --plugin jquery file.js</div><div class="line">eslint --plugin eslint-plugin-mocha file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–rule<br>直接设置要使用的规则。<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">eslint --rule <span class="string">'quotes: [2, double]'</span></div><div class="line">eslint --rule <span class="string">'guard-for-in: 2'</span> --rule <span class="string">'brace-style: [2, 1tbs]'</span></div><div class="line">eslint --rule <span class="string">'jquery/dollar-sign: 2'</span></div></pre></td></tr></table></figure>
</li>
<li><p>–ignore-path<br>设置一个文件来代替<code>.eslintignore</code>的功能，如果不设置的话，eslint默认会使用当前工作空间的<code>.eslintignore</code><br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --ignore-path tmp/.eslintignore file.js</div><div class="line">eslint --ignore-path .gitignore file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–no-ignore<br>禁用<code>.eslintignore</code>, <code>--ignore-path</code>和<code>--ignore-pattern</code>中的例外情况<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint --no-ignore file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–ignore-pattern<br>设置忽略匹配指定正则类型的文件<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint --ignore-pattern <span class="string">'/lib/'</span> --ignore-pattern <span class="string">'/src/vendor/*'</span> .</div></pre></td></tr></table></figure>
</li>
<li><p>–quiet<br>禁用reporting和warning，ESlint将只通知error<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint --quiet file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–max-warnings<br>设置eslint警告的临界值，在错误过多时强制eslint退出<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint --max-warnings 10 file.js</div></pre></td></tr></table></figure>
</li>
<li><p>-o, –output-file<br>将report写进指定文件<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint -o ./<span class="built_in">test</span>/test.html</div></pre></td></tr></table></figure>
</li>
<li><p>-f, –format<br>指定report输出的格式，可选格式为<code>checkstyle</code>，<code>codeframe</code>，<code>compact</code>，<code>html</code>，<code>jslint-xml</code>，<code>json</code>，<code>junit</code>，<code>stylish (the default)</code>，<code>table</code>，<code>tap</code>，<code>unix</code>，<code>visualstudio</code>。<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint <span class="_">-f</span> compact file.js</div></pre></td></tr></table></figure>
</li>
<li><p>–color, –no-color<br>指定report的颜色<br><em>例子：</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eslint --color file.js | cat</div><div class="line">eslint --no-color file.js</div></pre></td></tr></table></figure>
</li>
<li><p>init<br>初始化一些基本的配置。可以帮助新用户快速配置。</p>
</li>
<li><p>-h, –help<br>获得帮助菜单</p>
</li>
<li><p>-v, –version<br>显示当前的eslint版本</p>
</li>
<li><p>–print-config<br>打印当前eslint的配置信息</p>
</li>
<li><p>在<code>.eslintignore</code>中设置忽略的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">node_modules/*</div><div class="line">**/vendor/*.js</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="实际例子"><a href="#实际例子" class="headerlink" title="实际例子"></a>实际例子</h3><p>在这个例子中使用<a href="https://github.com/airbnb/javascript" target="_blank" rel="external">Airbnb</a>的语法规则。安装Airbnb的语法规则：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm i -g eslint-config-airbnb</div></pre></td></tr></table></figure></p>
<p>在项目的根目录下新建一个<code>.eslintrc</code>文件，配置ESLint。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"extends"</span>: <span class="string">"eslint-config-airbnb"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>待检查的<code>index.js</code>的代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> unusued = <span class="string">'I have no purpose!'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> message = <span class="string">'Hello, World!'</span>;</div><div class="line">    alert(message);</div><div class="line">&#125;</div><div class="line">greet();</div></pre></td></tr></table></figure></p>
<p>使用ESLint检查这个文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ eslint index.js</div></pre></td></tr></table></figure></p>
<p>控制台输出：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">index.js</div><div class="line">  1:5  error  unusued is defined but never used                 no-unused-vars</div><div class="line">  4:5  error  Expected indentation of 2 characters but found 4  indent</div><div class="line">  5:5  error  Expected indentation of 2 characters but found 4  indent</div><div class="line">✖ 3 problems (3 errors, 0 warnings)</div></pre></td></tr></table></figure></p>
<p>上面代码说明，原文件有三个错误，一个是定义了变量，却没有使用，另外两个是行首缩进为4个空格，而不是规定的2个空格。</p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><blockquote>
<p>1、<a href="http://eslint.org/docs/user-guide/command-line-interface" target="_blank" rel="external">ESLint Command Line Interface</a><br>2、<a href="http://es6.ruanyifeng.com/#docs/style#ESLint的使用" target="_blank" rel="external">ECMAScript 6 入门-编程风格-ESLint的使用</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在学习ECMAScript6的过程中发现了一个代码风格和语法的检查工具，&lt;a href=&quot;http://eslint.org/docs/user-guide/command-line-interface&quot;&gt;ESLint&lt;/a&gt;，记录一下。&lt;/p&gt;
&lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;p&gt;这里记录的安装方法是通过npm的安装，所以前提条件是已经安装了npm。如果没有安装的话，建议直接安装nvm，可以方便的切换node的版本。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;npm i -g eslint&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;通过以上命令即可完成eslint CLI的安装。&lt;/p&gt;
    
    </summary>
    
    
      <category term="js" scheme="http://yvshuo.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>webpack简介</title>
    <link href="http://yvshuo.github.io/2016/10/26/2016-10-26-webpacknote/"/>
    <id>http://yvshuo.github.io/2016/10/26/2016-10-26-webpacknote/</id>
    <published>2016-10-26T15:21:48.000Z</published>
    <updated>2016-11-03T14:13:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近一直在研究vue，顺带着研究了一下webpack。本文只是一篇简短的记录，后续会继续更新一些webpack深入的学习笔记。</p>
<h3 id="webpack概述"><a href="#webpack概述" class="headerlink" title="webpack概述"></a>webpack概述</h3><p>简单的说，webpack是一个前端的打包工具。它做的事情就是将你项目中使用的各种前端模块打包到一起，转换为合适的格式发布。通过使用webpack，可以将各种其他格式，如<code>scss</code>、<code>typescript</code>等拓展类型的语言转换为可运行的javascript。配合webpack的核心<code>loaders</code>和<code>plugins</code>，可以灵活的实现各种需求，非常的强力！<br><a id="more"></a><br>下面是一个典型的webpack的配置文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">'extract-text-webpack-plugin'</span>);</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: __dirname + <span class="string">"/app/main.js"</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname + <span class="string">"/build"</span>,</div><div class="line">    <span class="attr">filename</span>: <span class="string">"[name]-[hash].js"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.json$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">"json"</span></div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'babel'</span></div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</div><div class="line">        <span class="attr">loader</span>: ExtractTextPlugin.extract(<span class="string">'style'</span>, <span class="string">'css?modules!postcss'</span>)</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">postcss</span>: [</div><div class="line">    <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)</div><div class="line">  ],</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</div><div class="line">      <span class="attr">template</span>: __dirname + <span class="string">"/app/index.tmpl.html"</span></div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> webpack.optimize.OccurenceOrderPlugin(),</div><div class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</div><div class="line">    <span class="keyword">new</span> ExtractTextPlugin(<span class="string">"[name]-[hash].css"</span>)</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面就来具体解释下webpack的使用方法以及配置文件的意思。</p>
<h3 id="基于webpack项目的基本结构"><a href="#基于webpack项目的基本结构" class="headerlink" title="基于webpack项目的基本结构"></a>基于webpack项目的基本结构</h3><p>通常会包含一些子模块文件目录以及一个<code>package.json</code>和<code>webpack.config.js</code>的文件。因为webpack是运行在<code>nodejs</code>环境下的，所以<code>package.json</code>中配置项目依赖，然后在<code>webpack.config.js</code>中配置打包的一些信息。<br>在package.json中通常会在script配置项下配置webpack的不同的运行信息。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//package.json</span></div><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"webpack-sample-project"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="string">"description"</span>: <span class="string">"Sample webpack project"</span>,</div><div class="line">  <span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"start"</span>: <span class="string">"webpack-dev-server --progress"</span>,</div><div class="line">    <span class="string">"build"</span>: <span class="string">"NODE_ENV=production webpack --config ./webpack.production.config.js --progress"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"author"</span>: <span class="string">"Cássio Zen"</span>,</div><div class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</div><div class="line">  <span class="string">"devDependencies"</span>: &#123;...&#125;,</div><div class="line">  <span class="string">"dependencies"</span>: &#123;...&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后通过<code>npm start</code>就可以运行webpack开发状态下的打包命令，通过<code>npm build</code>就可以运行webpack生产环境下的打包命令了～轻松愉快</p>
<h3 id="loaders"><a href="#loaders" class="headerlink" title="loaders"></a>loaders</h3><p>Loaders是webpack中最让人激动人心的功能之一了。通过使用不同的loader，webpack通过调用外部的脚本或工具可以对各种各样的格式的文件进行处理，比如说分析JSON文件并把它转换为JavaScript文件，或者说把下一代的JS文件（ES6，ES7)转换为现代浏览器可以识别的JS文件。或者说对React的开发而言，合适的Loaders可以把React的JSX文件转换为JS文件。</p>
<p>Loaders需要单独安装并且需要在webpack.config.js下的modules关键字下进行配置，Loaders的配置选项包括以下几方面：</p>
<ul>
<li>test：一个匹配loaders所处理的文件的拓展名的正则表达式（必须）</li>
<li>loader：loader的名称（必须）</li>
<li>include/exclude:手动添加必须处理的文件（文件夹）或屏蔽不需要处理的文件（文件夹）（可选）；</li>
<li>query：为loaders提供额外的设置选项（可选）</li>
</ul>
<p>在前面的代码中有以下一段：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">    <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">    <span class="attr">loader</span>: <span class="string">'babel'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这句的意思就是对除掉node_modules文件夹中js文件外的所有js文件使用npm安装的<code>babel-loader</code>来进行处理。loaders为webpack提供了极其灵活的特性，可以使用丰富的第三方loaders来实现自己特定的需求。</p>
<h3 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h3><p>插件（Plugins）是用来拓展Webpack功能的，它们会在整个构建过程中生效，执行相关的任务。<br>Loaders和Plugins常常被弄混，但是他们其实是完全不同的东西，可以这么来说，loaders是在打包构建过程中用来处理源文件的（JSX，Scss，Less..），一次处理一个，插件并不直接操作单个文件，它直接对整个构建过程其作用。Webpack有很多内置插件，同时也有很多第三方插件，可以让我们完成更加丰富的功能。</p>
<p>我们以HtmlWebpackPlugin插件为例来说明webpack中使用plugins的方法。这个插件的作用是依据一个简单的模板，帮你生成最终的Html5文件，这个文件中自动引用了你打包后的JS文件。每次编译都在文件名中插入一个不同的哈希值。</p>
<p> 1.<strong>安装</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev html-webpack-plugin</div></pre></td></tr></table></figure></p>
<p> 2.<strong>在项目的app目录下创建一个html模版，我们将其命名为index.tmpl.html</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span> </div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span> </div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span> </div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Sample Project<span class="tag">&lt;/<span class="name">title</span>&gt;</span> </div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">body</span>&gt;</span> </div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'root'</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </div><div class="line">     <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p> 3.<strong>更新webpack的配置文件，新建一个build文件夹用来存放最终的输出文件</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>); </div><div class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>); </div><div class="line"><span class="built_in">module</span>.exports = &#123; </div><div class="line">    <span class="attr">devtool</span>: <span class="string">'eval-source-map'</span>, </div><div class="line">    <span class="attr">entry</span>: __dirname + <span class="string">"/app/main.js"</span>, </div><div class="line">    <span class="attr">output</span>: &#123; </div><div class="line">        <span class="attr">path</span>: __dirname + <span class="string">"/build"</span>, </div><div class="line">        <span class="attr">filename</span>: <span class="string">"bundle.js"</span> </div><div class="line">    &#125;, </div><div class="line">    <span class="attr">module</span>: &#123; </div><div class="line">        <span class="attr">loaders</span>: [ </div><div class="line">            &#123; </div><div class="line">                <span class="attr">test</span>: <span class="regexp">/\.json$/</span>, </div><div class="line">                <span class="attr">loader</span>: <span class="string">"json"</span> </div><div class="line">            &#125;, </div><div class="line">            &#123; </div><div class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, </div><div class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, </div><div class="line">                <span class="attr">loader</span>: <span class="string">'babel'</span> </div><div class="line">            &#125;, </div><div class="line">            &#123; </div><div class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, </div><div class="line">                <span class="attr">loader</span>: <span class="string">'style!css?modules!postcss'</span> </div><div class="line">            &#125; </div><div class="line">            ] </div><div class="line">    &#125;, </div><div class="line">    <span class="attr">postcss</span>: [ </div><div class="line">        <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>) </div><div class="line">    ], </div><div class="line">    <span class="attr">plugins</span>: [ </div><div class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123; </div><div class="line">            <span class="attr">template</span>: __dirname + <span class="string">"/app/index.tmpl.html"</span><span class="comment">//new 一个这个插件的实例，并传入相关的参数 </span></div><div class="line">        &#125;) </div><div class="line">     ], </div><div class="line">    <span class="attr">devServer</span>: &#123; </div><div class="line">            <span class="attr">colors</span>: <span class="literal">true</span>, </div><div class="line">            <span class="attr">historyApiFallback</span>: <span class="literal">true</span>, </div><div class="line">            <span class="attr">inline</span>: <span class="literal">true</span> </div><div class="line">     &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p> 4.<strong>在编译过程中，本插件就会依据此模板生成最终的html页面，会自动添加所依赖的 css, js，favicon等文件</strong></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>本文仅仅是对webpack的主要功能做一个很简单的介绍，它丰富的特性需要在使用中逐渐体会，后续还会继续更新相关内容。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><blockquote>
<p>1、 <a href="http://www.pro-react.com/materials/appendixA/" target="_blank" rel="external">Webpack for React</a><br>2、 <a href="http://www.jianshu.com/p/42e11515c10f" target="_blank" rel="external">入门Webpack，看这篇就够了</a><br>3、 <a href="http://www.w2bc.com/Article/50764" target="_blank" rel="external">一小时包教会 —— webpack 入门指南</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近一直在研究vue，顺带着研究了一下webpack。本文只是一篇简短的记录，后续会继续更新一些webpack深入的学习笔记。&lt;/p&gt;
&lt;h3 id=&quot;webpack概述&quot;&gt;&lt;a href=&quot;#webpack概述&quot; class=&quot;headerlink&quot; title=&quot;webpack概述&quot;&gt;&lt;/a&gt;webpack概述&lt;/h3&gt;&lt;p&gt;简单的说，webpack是一个前端的打包工具。它做的事情就是将你项目中使用的各种前端模块打包到一起，转换为合适的格式发布。通过使用webpack，可以将各种其他格式，如&lt;code&gt;scss&lt;/code&gt;、&lt;code&gt;typescript&lt;/code&gt;等拓展类型的语言转换为可运行的javascript。配合webpack的核心&lt;code&gt;loaders&lt;/code&gt;和&lt;code&gt;plugins&lt;/code&gt;，可以灵活的实现各种需求，非常的强力！&lt;br&gt;
    
    </summary>
    
    
      <category term="webpack" scheme="http://yvshuo.github.io/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>一篇关于javascript闭包的笔记</title>
    <link href="http://yvshuo.github.io/2016/10/11/2016-10-11-closure/"/>
    <id>http://yvshuo.github.io/2016/10/11/2016-10-11-closure/</id>
    <published>2016-10-11T15:21:48.000Z</published>
    <updated>2016-10-11T16:09:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>今天读到了一篇讲<a href="http://web.jobbole.com/88167/" target="_blank" rel="external">闭包的文章</a>，是我目前看到的最透彻的一篇闭包的讲解。趁热记一下笔记。</p>
<p>在我以前的认识中，一直觉得闭包就是在js中提供了一种类似于java中get方法的功能，使我们可以通过闭包来访问到函数体内的局部变量。然鹅，我的理解也就顶多意会了闭包的一点皮毛。下面就直接通过代码来记录一下这篇文章中写到的知识点。</p>
<h3 id="静态作用域的理解"><a href="#静态作用域的理解" class="headerlink" title="静态作用域的理解"></a>静态作用域的理解</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;	</div><div class="line">  <span class="keyword">var</span> y = x + <span class="number">5</span>;	</div><div class="line">  <span class="keyword">return</span> y;	</div><div class="line">&#125;	</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123; 	</div><div class="line">  <span class="keyword">var</span> x = <span class="number">2</span>;	</div><div class="line">  <span class="keyword">return</span> foo();	</div><div class="line">&#125;	</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;	</div><div class="line">  foo(); <span class="comment">// Static scope: 15; Dynamic scope: 15	</span></div><div class="line">  bar(); <span class="comment">// Static scope: 15; Dynamic scope: 7	</span></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>现在大部分的程序语言都是使用的静态作用域的规则，基本就是内嵌套作用域规则。</p>
<blockquote>
<p><strong>内嵌套作用域规则：</strong><br>由一个声明引进的标识符在这个声明所在的作用域里可见，而且在其内部嵌套的每个作用域里也可见，除非它被嵌套于内部的对同名标识符的另一个声明所掩盖。为了找到某个给定的标识符所引用的对象，应该在当前最内层作用域里查找。如果找到了一个声明，也就可以找到该标识符所引用的对象。否则我们就到直接的外层作用域里去查找，并继续向外顺序地检查外层作用域，直到到达程序的最外嵌套层次，也就是全局对象声明所在的作用域。如果在所有层次上都没有找到有关声明，那么这个程序就有错误。</p>
</blockquote>
<p>所以这个程序<code>main()</code>中的<code>foo()</code>和<code>bar()</code>在js中的返回值都是15。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> result = [];	</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;	</div><div class="line">  result[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;	</div><div class="line">    <span class="built_in">console</span>.log(i);	</div><div class="line">  &#125;;	</div><div class="line">&#125;	 	</div><div class="line">result[<span class="number">0</span>](); <span class="comment">// 5, expected 0 	</span></div><div class="line">result[<span class="number">1</span>](); <span class="comment">// 5, expected 1 	</span></div><div class="line">result[<span class="number">2</span>](); <span class="comment">// 5, expected 2 	</span></div><div class="line">result[<span class="number">3</span>](); <span class="comment">// 5, expected 3	</span></div><div class="line">result[<span class="number">4</span>](); <span class="comment">// 5, expected 4</span></div></pre></td></tr></table></figure>
<p>上面这个程序中日志输出的就都是5。</p>
<h3 id="保留外部作用域对一个变量的私有引用"><a href="#保留外部作用域对一个变量的私有引用" class="headerlink" title="保留外部作用域对一个变量的私有引用"></a>保留外部作用域对一个变量的私有引用</h3><p>这个就是我之前对闭包的理解。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">secretPassword</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> password = <span class="string">'xh38sk'</span>;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">guessPassword</span>: <span class="function"><span class="keyword">function</span>(<span class="params">guess</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (guess === password) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">      &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;	</div><div class="line">  &#125;	</div><div class="line">&#125;	</div><div class="line"><span class="keyword">var</span> passwordGame = secretPassword();</div><div class="line">passwordGame.guessPassword(<span class="string">'heyisthisit?'</span>); <span class="comment">// false	</span></div><div class="line">passwordGame.guessPassword(<span class="string">'xh38sk'</span>); <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>通过闭包，我们可以在<code>secretPassword()</code>函数的外部访问到它的私有变量<code>password</code>。</p>
<h3 id="每调用一次函数就会创建一个单独的闭包"><a href="#每调用一次函数就会创建一个单独的闭包" class="headerlink" title="每调用一次函数就会创建一个单独的闭包"></a>每调用一次函数就会创建一个单独的闭包</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">iCantThinkOfAName</span>(<span class="params">num, obj</span>) </span>&#123;	</div><div class="line">  <span class="comment">// This array variable, along with the 2 parameters passed in,	</span></div><div class="line">  <span class="comment">// are 'captured' by the nested function 'doSomething'	</span></div><div class="line">  <span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];	</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">i</span>) </span>&#123;	</div><div class="line">    num += i;	</div><div class="line">    array.push(num);	</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'num: '</span> + num);	</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'array: '</span> + array); 	</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'obj.value: '</span> + obj.value);	</div><div class="line">  &#125;	</div><div class="line">  <span class="keyword">return</span> doSomething;	</div><div class="line">&#125;	</div><div class="line"><span class="keyword">var</span> referenceObject = &#123; <span class="attr">value</span>: <span class="number">10</span> &#125;;	</div><div class="line"><span class="keyword">var</span> foo = iCantThinkOfAName(<span class="number">2</span>, referenceObject); <span class="comment">// closure #1	</span></div><div class="line"><span class="keyword">var</span> bar = iCantThinkOfAName(<span class="number">6</span>, referenceObject); <span class="comment">// closure #2</span></div><div class="line">foo(<span class="number">2</span>);</div><div class="line"><span class="comment">/*</span></div><div class="line">  num: 4</div><div class="line">  array: 1,2,3,4</div><div class="line">  obj.value: 10 	</div><div class="line">*/	</div><div class="line">bar(<span class="number">2</span>);	</div><div class="line"><span class="comment">/*	</span></div><div class="line">  num: 8	</div><div class="line">  array: 1,2,3,8	</div><div class="line">  obj.value: 10	</div><div class="line">*/	</div><div class="line">referenceObject.value++;	</div><div class="line">foo(<span class="number">4</span>);	</div><div class="line"><span class="comment">/*	</span></div><div class="line">  num: 8</div><div class="line">  array: 1,2,3,4,8</div><div class="line">  obj.value: 11 	</div><div class="line">*/	</div><div class="line">bar(<span class="number">4</span>);	</div><div class="line"><span class="comment">/*	</span></div><div class="line">  num: 12	</div><div class="line">  array: 1,2,3,8,12	</div><div class="line">  obj.value: 11	</div><div class="line">*/</div></pre></td></tr></table></figure>
<p>先得赞一下作者起的这个函数名，<code>iCantThinkOfAName</code>2333333,很喜欢这种画风。顺带提一下今天在github上看到一个开原协议，叫<a href="https://en.wikipedia.org/wiki/WTFPL" target="_blank" rel="external">WTFPL</a>,感兴趣的话可以戳一下这个协议的WIKI链接。全名叫做Do What the Fuck You Want To Public License。哈哈哈哈哈，简直笑尿。</p>
<p>呐，回到上面的程序。这里就用了闭包的一个很重要的特性，<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = iCantThinkOfAName(<span class="number">2</span>, referenceObject); <span class="comment">// closure #1	</span></div><div class="line"><span class="keyword">var</span> bar = iCantThinkOfAName(<span class="number">6</span>, referenceObject); <span class="comment">// closure #2</span></div></pre></td></tr></table></figure></p>
<p>上面这两句创建了两个独立的闭包，每个闭包对<code>iCantThinkOfAName</code>函数中<code>array</code>这个私有变量都创建了一个自己独立的引用（这个概念大概不准确，但是大概可以这么类比吧→_→），而且还能保存住自己作用域中的变量，很有点新建一个对象的感觉- -<br>用作者翻译的话来说就是：</p>
<blockquote>
<p>每个函数都有一个执行上下文，它包括一个在函数中赋予变量含义的词法环境和对其父环境的引用。因为函数对环境的引用，使它看起来就像是函数“记住了”这个环境（作用域）一样。这就是一个闭包</p>
</blockquote>
<p>仿佛明白了一些了不起的道理！厉害！</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天读到了一篇讲&lt;a href=&quot;http://web.jobbole.com/88167/&quot;&gt;闭包的文章&lt;/a&gt;，是我目前看到的最透彻的一篇闭包的讲解。趁热记一下笔记。&lt;/p&gt;
&lt;p&gt;在我以前的认识中，一直觉得闭包就是在js中提供了一种类似于java中get方法的功能，使我们可以通过闭包来访问到函数体内的局部变量。然鹅，我的理解也就顶多意会了闭包的一点皮毛。下面就直接通过代码来记录一下这篇文章中写到的知识点。&lt;/p&gt;
&lt;h3 id=&quot;静态作用域的理解&quot;&gt;&lt;a href=&quot;#静态作用域的理解&quot; class=&quot;headerlink&quot; title=&quot;静态作用域的理解&quot;&gt;&lt;/a&gt;静态作用域的理解&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y = x + &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; y;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bar&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; 	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; foo();	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  foo(); &lt;span class=&quot;comment&quot;&gt;// Static scope: 15; Dynamic scope: 15	&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  bar(); &lt;span class=&quot;comment&quot;&gt;// Static scope: 15; Dynamic scope: 7	&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="js" scheme="http://yvshuo.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>配置hexo的一键打包部署</title>
    <link href="http://yvshuo.github.io/2016/10/07/2016-10-07-githubssh/"/>
    <id>http://yvshuo.github.io/2016/10/07/2016-10-07-githubssh/</id>
    <published>2016-10-07T04:31:27.000Z</published>
    <updated>2016-10-11T15:23:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>今天研究了一下hexo的自动打包部署，记录一下。</p>
<h2 id="配置github的ssh"><a href="#配置github的ssh" class="headerlink" title="配置github的ssh"></a>配置github的ssh</h2><h3 id="本地生成公钥"><a href="#本地生成公钥" class="headerlink" title="本地生成公钥"></a>本地生成公钥</h3><p>运行 git Bash 客户端，检查是否已经配置过SSH key。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div><div class="line">$ ls</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>如果没有 id_rsa 和 id_rsa.pub，则需要创建一个SSH key。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"XXX@XXX.com"</span></div></pre></td></tr></table></figure>
<ul>
<li>-t 制定密钥类型，默认rsa，可以省略</li>
<li>-C 设置注释文字，通常设置自己的邮箱</li>
<li>-f 制定密钥文件存储文件名</li>
</ul>
<p>然后就会生成 id_rsa 和 id_rsa.pub 两个文件，其中 id_rsa.pub就是我们要配在github里的公钥。</p>
<h3 id="在github中配置ssh-key"><a href="#在github中配置ssh-key" class="headerlink" title="在github中配置ssh key"></a>在github中配置ssh key</h3><p>在github中找到配置项的SSH and GPG keys，然后按下图所示配置。</p>
<p><img src="/assets/images/2016/10/07/githubssh-1.png" alt=""></p>
<p>配置完成后，测试一下是否配置成功。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -T git@github.com</div></pre></td></tr></table></figure></p>
<p>如果显示以下警告：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">The authenticity of host <span class="string">'github.com (207.97.227.239)'</span> can<span class="string">'t be established.</span></div><div class="line"># RSA key fingerprint is &lt;your fingerprint&gt;.</div><div class="line"># Are you sure you want to continue connecting (yes/no)?</div></pre></td></tr></table></figure></p>
<p>则说明已经配置成功了，输入yes即可。</p>
<h2 id="配置hexo的自动打包部署"><a href="#配置hexo的自动打包部署" class="headerlink" title="配置hexo的自动打包部署"></a>配置hexo的自动打包部署</h2><h3 id="安装hexo-deployer-git"><a href="#安装hexo-deployer-git" class="headerlink" title="安装hexo-deployer-git"></a>安装hexo-deployer-git</h3><p>还是通过npm来安装，输入下面的命令，稍等片刻即可安装成功。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><p>在根目录的_config.yml中找到以下代码段。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  <span class="built_in">type</span>: git</div><div class="line">  repo: &lt;repository url&gt;</div><div class="line">  branch: [branch]</div><div class="line">  message: [message]</div></pre></td></tr></table></figure></p>
<ul>
<li>repo 里配置git仓库的信息，这里我的就是git@github.com:yvshuo/yvshuo.github.io</li>
<li>branch 里配置分支名称，我的是主分支，就配置的master</li>
<li>message 是自定义提交的信息，默认为Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}，可以空着</li>
</ul>
<h3 id="自动部署提交"><a href="#自动部署提交" class="headerlink" title="自动部署提交"></a>自动部署提交</h3><p>配置完成后，剩下的就是一条命令了。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate --deploy</div></pre></td></tr></table></figure></p>
<p>缩写的命令也是可以的。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo g -<span class="_">-d</span></div></pre></td></tr></table></figure></p>
<p>开开心心。。。。</p>
<h2 id="最后唠叨几句"><a href="#最后唠叨几句" class="headerlink" title="最后唠叨几句"></a>最后唠叨几句</h2><ul>
<li>记得关掉vpn代理啥的，不然ssh可能会有问题</li>
<li>发现一篇很好的介绍hexo的文章，戳<a href="http://blog.fens.me/hexo-blog-github/" target="_blank" rel="external">Hexo在github上构建免费的Web应用</a></li>
<li>明天又要上班了，终于又可以开心的建设社会主义了。。。。。。（逃</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天研究了一下hexo的自动打包部署，记录一下。&lt;/p&gt;
&lt;h2 id=&quot;配置github的ssh&quot;&gt;&lt;a href=&quot;#配置github的ssh&quot; class=&quot;headerlink&quot; title=&quot;配置github的ssh&quot;&gt;&lt;/a&gt;配置github的ssh&lt;/h2&gt;&lt;h3 id=&quot;本地生成公钥&quot;&gt;&lt;a href=&quot;#本地生成公钥&quot; class=&quot;headerlink&quot; title=&quot;本地生成公钥&quot;&gt;&lt;/a&gt;本地生成公钥&lt;/h3&gt;&lt;p&gt;运行 git Bash 客户端，检查是否已经配置过SSH key。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~/.ssh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ ls&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://yvshuo.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>使用hexo在github上搭建博客的记录</title>
    <link href="http://yvshuo.github.io/2016/10/06/2016-10-06-create/"/>
    <id>http://yvshuo.github.io/2016/10/06/2016-10-06-create/</id>
    <published>2016-10-05T16:40:58.000Z</published>
    <updated>2016-10-07T14:00:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>工作已经一年了，想着该稍微停下来总结一下了。恰巧印象笔记开始限终端限流量。于是就有了写博客记录一下日常感想，同时将之前的一些笔记迁移到博客的想法。</p>
<p>在github闲逛的时候看到了<a href="https://litten.github.io/" target="_blank" rel="external">Litten</a>的博客，很是喜欢。于是发现了<a href="https://hexo.io/" target="_blank" rel="external">hexo</a>,各种特性都让我甚是喜欢，就这么对Hexo一见钟情了。在知乎上搜到了一篇介绍<a href="https://www.zhihu.com/question/24422335" target="_blank" rel="external">hexo主题</a>的回答,一圈看下来，还是比较喜欢<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">Yilia</a>这个主题，也就是我最早看到的Litten开发的~缘分啊，（逃</p>
<p>于是果断决定使用这个主题，计划着先直接用着，后续有时间的话自己也试着DIY一下自己的主题。</p>
<p>废话不多说了，简单的记录一下第一次搭建Hexo博客的过程。</p>
<a id="more"></a>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Hexo是在nodejs环境下搭建的，在npm的帮助下几行命令就轻松搞定，简直是轻松愉快。当然了，前提是已经安装好了git和nodejs。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-cli -g</div><div class="line">$ hexo init blog</div><div class="line">$ <span class="built_in">cd</span> blog</div><div class="line">$ npm install</div><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<h2 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h2><p>同样很方便，到博客的根目录下，将主题git下来。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</div></pre></td></tr></table></figure>
<p>然后修改根目录下_config.yml中的配置项theme: yilia。如果server是在运行状态下，甚至都不需要重启。只需要刷新下页面，新的主题就已经换上去了。开开心心- -</p>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"我的文章"</span></div></pre></td></tr></table></figure>
<p>这样就会生成一篇叫“我的文章”的文章了。默认会在_posts文件夹下新建一个对应的markdown文件“我的文章.md”，编辑这个md文件就可以写文章并发布了。格式遵循<a href="https://daringfireball.net/projects/markdown/syntax" target="_blank" rel="external">md的语法</a>。</p>
<h2 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>生成的静态文件在public文件夹中，这些文件就可以提交到github来搭建自己的个人博客了~简直炫酷。</p>
<h2 id="发布到github上"><a href="#发布到github上" class="headerlink" title="发布到github上"></a>发布到github上</h2><p>每个github账号下都默认有一个自己的XXX.github.io的子域名，可以部署静态代码来生成自己的网站。</p>
<p>譬如我的github账号是yvshuo,于是我要新建一个名字叫做yvshuo.github.io的项目。然后到刚才生成的public文件下将代码提交到github仓库里。如果不熟悉git操作，可以参看<a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">git-简明指南</a>快速入手。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> public/</div><div class="line">$ git init</div><div class="line">$ git add --all</div><div class="line">$ git commit -m <span class="string">"create"</span></div><div class="line">$ git remote add origin https://github.com/yvshuo/yvshuo.github.io.git</div><div class="line">$ git push -u origin master</div></pre></td></tr></table></figure>
<p>然后就是享受成果的时候了~~<a href="https://yvshuo.github.io/">yvshuo</a></p>
<h2 id="一点点小补充"><a href="#一点点小补充" class="headerlink" title="一点点小补充"></a>一点点小补充</h2><ol>
<li>除了上面说的最基本的一些东西外，还有很多配置和可以自己来diy的东西。具体可参考hexo的<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">中文文档</a>。再次表达对hexo的爱~</li>
<li>md编辑器可以自己在sublime text里配，也可以用专门的编辑器，如<a href="http://markdownpad.com/" target="_blank" rel="external">MarkdownPad</a>。当然，我觉得最爽的还是在本地开着hexo server然后监听文件变动自动部署，再直接在浏览器里F5~</li>
<li>今天第一次接触hexo，还有待后续进一步发掘这个工具的强大之处</li>
</ol>
<h2 id="立FLAG"><a href="#立FLAG" class="headerlink" title="立FLAG"></a>立FLAG</h2><blockquote>
<p>要把这个博客经营下去。谢老师监督我→_→</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;工作已经一年了，想着该稍微停下来总结一下了。恰巧印象笔记开始限终端限流量。于是就有了写博客记录一下日常感想，同时将之前的一些笔记迁移到博客的想法。&lt;/p&gt;
&lt;p&gt;在github闲逛的时候看到了&lt;a href=&quot;https://litten.github.io/&quot;&gt;Litten&lt;/a&gt;的博客，很是喜欢。于是发现了&lt;a href=&quot;https://hexo.io/&quot;&gt;hexo&lt;/a&gt;,各种特性都让我甚是喜欢，就这么对Hexo一见钟情了。在知乎上搜到了一篇介绍&lt;a href=&quot;https://www.zhihu.com/question/24422335&quot;&gt;hexo主题&lt;/a&gt;的回答,一圈看下来，还是比较喜欢&lt;a href=&quot;https://github.com/litten/hexo-theme-yilia&quot;&gt;Yilia&lt;/a&gt;这个主题，也就是我最早看到的Litten开发的~缘分啊，（逃&lt;/p&gt;
&lt;p&gt;于是果断决定使用这个主题，计划着先直接用着，后续有时间的话自己也试着DIY一下自己的主题。&lt;/p&gt;
&lt;p&gt;废话不多说了，简单的记录一下第一次搭建Hexo博客的过程。&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://yvshuo.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
