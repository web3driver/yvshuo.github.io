<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
    
  
  <title>
    配置hexo的一键打包部署|香辣猪蹄儿
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="今天研究了一下hexo的自动打包部署，记录一下。
配置github的ssh本地生成公钥运行 git Bash 客户端，检查是否已经配置过SSH key。$ cd ~/.ssh$ ls">
<meta property="og:type" content="article">
<meta property="og:title" content="配置hexo的一键打包部署">
<meta property="og:url" content="http://yvshuo.github.io/2016/10/07/2016-10-07-githubssh/index.html">
<meta property="og:site_name" content="香辣猪蹄儿">
<meta property="og:description" content="今天研究了一下hexo的自动打包部署，记录一下。
配置github的ssh本地生成公钥运行 git Bash 客户端，检查是否已经配置过SSH key。$ cd ~/.ssh$ ls">
<meta property="og:image" content="http://yvshuo.github.io/assets/images/2016/10/07/githubssh-1.png">
<meta property="og:updated_time" content="2016-10-11T15:23:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="配置hexo的一键打包部署">
<meta name="twitter:description" content="今天研究了一下hexo的自动打包部署，记录一下。
配置github的ssh本地生成公钥运行 git Bash 客户端，检查是否已经配置过SSH key。$ cd ~/.ssh$ ls">
<meta name="twitter:image" content="http://yvshuo.github.io/assets/images/2016/10/07/githubssh-1.png">
  
    <link rel="alternate" href="/atom.xml" title="config.title" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/page.css">
  <script src="/js/vue.min.js"></script>
  <script>window.PAGE_TYPE = ""</script>
</head>
<body class="docs">
  
  <div id="mobile-bar" >
  <a class="menu-button"></a>
  <a class="logo" href="/"></a>
</div>
  <div id="header">
  <a id="logo" href="/">
    <img src="/img/avatar.jpg">
    <span>香辣猪蹄儿</span>
  </a>
  <ul id="nav">
    <li><a href="/" class="nav-link">首页</a></li>
<li><a href="/archives" class="nav-link">文章列表</a></li>
<li><a href="/docs" class="nav-link">文档</a></li>

  </ul>
</div>

  <div id="main" class="fix-sidebar">
      
    <div class="sidebar blog">
        <ul class="main-menu">
            <li><a href="/" class="nav-link">首页</a></li>
<li><a href="/archives" class="nav-link">文章列表</a></li>
<li><a href="/docs" class="nav-link">文档</a></li>

        </ul>
        <div class="list">
            <h2>
                最新文章
            </h2>
            <ul style="padding:0">
            
            
                
                    <li>
                        <a href="/2017/02/23/2017-02-23-javarule-9/" class="sidebar-link">阿里巴巴java开发手册解读9-其他编程规约</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/23/2017-02-23-javarule-8/" class="sidebar-link">阿里巴巴java开发手册解读8-注释规约</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/22/2017-02-22-javarule-7/" class="sidebar-link">阿里巴巴java开发手册解读7-控制语句</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/18/2017-02-18-javarule-6/" class="sidebar-link">阿里巴巴java开发手册解读6-并发处理</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/17/2017-02-17-javarule-5/" class="sidebar-link">阿里巴巴java开发手册解读5-集合处理</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/13/2017-02-10-javarule-4/" class="sidebar-link">阿里巴巴java开发手册解读4-OOP 规约</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/10/2017-02-10-javarule-3/" class="sidebar-link">阿里巴巴java开发手册解读3-格式规约</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/10/2017-02-10-javarule-2/" class="sidebar-link">阿里巴巴java开发手册解读2-常量定义</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/02/09/2017-02-09-javarule-1/" class="sidebar-link">阿里巴巴java开发手册解读1-命名规约</a>
                    </li>
                
            
                
                    <li>
                        <a href="/2017/01/16/2017-01-16-refactor/" class="sidebar-link">重构—重新组织函数</a>
                    </li>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </ul>
        </div>
    </div>
    <div class="content with-sidebar blog post">
        <h1>配置hexo的一键打包部署</h1>
        <h4>Oct 7, 2016</h4>
        <p>今天研究了一下hexo的自动打包部署，记录一下。</p>
<h2 id="配置github的ssh"><a href="#配置github的ssh" class="headerlink" title="配置github的ssh"></a>配置github的ssh</h2><h3 id="本地生成公钥"><a href="#本地生成公钥" class="headerlink" title="本地生成公钥"></a>本地生成公钥</h3><p>运行 git Bash 客户端，检查是否已经配置过SSH key。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div><div class="line">$ ls</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>如果没有 id_rsa 和 id_rsa.pub，则需要创建一个SSH key。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"XXX@XXX.com"</span></div></pre></td></tr></table></figure>
<ul>
<li>-t 制定密钥类型，默认rsa，可以省略</li>
<li>-C 设置注释文字，通常设置自己的邮箱</li>
<li>-f 制定密钥文件存储文件名</li>
</ul>
<p>然后就会生成 id_rsa 和 id_rsa.pub 两个文件，其中 id_rsa.pub就是我们要配在github里的公钥。</p>
<h3 id="在github中配置ssh-key"><a href="#在github中配置ssh-key" class="headerlink" title="在github中配置ssh key"></a>在github中配置ssh key</h3><p>在github中找到配置项的SSH and GPG keys，然后按下图所示配置。</p>
<p><img src="/assets/images/2016/10/07/githubssh-1.png" alt=""></p>
<p>配置完成后，测试一下是否配置成功。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ ssh -T git@github.com</div></pre></td></tr></table></figure></p>
<p>如果显示以下警告：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">The authenticity of host <span class="string">'github.com (207.97.227.239)'</span> can<span class="string">'t be established.</span></div><div class="line"># RSA key fingerprint is &lt;your fingerprint&gt;.</div><div class="line"># Are you sure you want to continue connecting (yes/no)?</div></pre></td></tr></table></figure></p>
<p>则说明已经配置成功了，输入yes即可。</p>
<h2 id="配置hexo的自动打包部署"><a href="#配置hexo的自动打包部署" class="headerlink" title="配置hexo的自动打包部署"></a>配置hexo的自动打包部署</h2><h3 id="安装hexo-deployer-git"><a href="#安装hexo-deployer-git" class="headerlink" title="安装hexo-deployer-git"></a>安装hexo-deployer-git</h3><p>还是通过npm来安装，输入下面的命令，稍等片刻即可安装成功。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><p>在根目录的_config.yml中找到以下代码段。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">deploy:</div><div class="line">  <span class="built_in">type</span>: git</div><div class="line">  repo: &lt;repository url&gt;</div><div class="line">  branch: [branch]</div><div class="line">  message: [message]</div></pre></td></tr></table></figure></p>
<ul>
<li>repo 里配置git仓库的信息，这里我的就是git@github.com:yvshuo/yvshuo.github.io</li>
<li>branch 里配置分支名称，我的是主分支，就配置的master</li>
<li>message 是自定义提交的信息，默认为Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}，可以空着</li>
</ul>
<h3 id="自动部署提交"><a href="#自动部署提交" class="headerlink" title="自动部署提交"></a>自动部署提交</h3><p>配置完成后，剩下的就是一条命令了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo generate --deploy</div></pre></td></tr></table></figure></p>
<p>缩写的命令也是可以的。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo g -<span class="_">-d</span></div></pre></td></tr></table></figure></p>
<p>开开心心。。。。</p>
<h2 id="最后唠叨几句"><a href="#最后唠叨几句" class="headerlink" title="最后唠叨几句"></a>最后唠叨几句</h2><ul>
<li>记得关掉vpn代理啥的，不然ssh可能会有问题</li>
<li>发现一篇很好的介绍hexo的文章，戳<a href="http://blog.fens.me/hexo-blog-github/" target="_blank" rel="external">Hexo在github上构建免费的Web应用</a></li>
<li>明天又要上班了，终于又可以开心的建设社会主义了。。。。。。（逃</li>
</ul>

        <div class="guide-links">
            
                <span>← <a href="/2016/10/11/2016-10-11-closure/">一篇关于javascript闭包的笔记</a></span>
            
            
                <span style="float:right"><a href="/2016/10/06/2016-10-06-create/">使用hexo在github上搭建博客的记录</a> →</span>
            
        </div>
    </div>

  </div>
  
  
<script>
var topScrolled = false
window.addEventListener('scroll', function () {
  if (window.pageYOffset > 165 && !topScrolled) {
    topScrolled = true
    document.getElementById('mobile-bar').classList.remove('top')
  } else if (window.pageYOffset <= 165 && topScrolled) {
    topScrolled = false
    document.getElementById('mobile-bar').classList.add('top')
  }
})
</script>
<script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/script.js"></script>
<script src="/js/common.js"></script>

</body>
</html>

